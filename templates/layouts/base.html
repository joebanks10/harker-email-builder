<!DOCTYPE html>
<html>
<head>
{% block head %}
    <title>{{ email.title|default('Master Template') }}</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <style type="text/css" rel="theme">
        {{ render_file(email.stylesheet_url) }}
    </style>
    <style type="text/css" rel="addons">
        {{ render_file(email.stylesheet_addons_url) }}
    </style>
{% endblock head %}
</head>
<body>
<table class="table-wrapper" align="center" width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
        <td align="center">
            {% block header %}
                {% if email.header %}
                    {% for module in email.header %}
                        {% include "#{module.template}.html" with { module: module.options|default({}) } %}
                    {% endfor %}
                {% else %}
                    {% include "topbar.html" %}
                {% endif %}
            {% endblock header %}
            
            {% block content %}
                {% for module in email.content|default([]) %}
                    {% include "#{module.template}.html" with { module: module.options|default({}) } %}
                {% endfor %}
            {% endblock content %}
            
            {% block footer %}
                {% if email.footer %}
                    {% for module in email.footer %}
                        {% include "#{module.template}.html" with { module: module.options|default({}) } %}
                    {% endfor %}
                {% else %}
                    {% include "modules/table-footer.html" %}
                {% endif %}
            {% endblock footer %}
        </td>
    </tr>
</table>
</body>
</html>