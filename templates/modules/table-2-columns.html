{% extends "@tmpl/module.html" %}

{% set module = module|default({
    id: '',
    classes: '',
    img: {
        url: "#{email.img_dir_url}img8.png",
        alt: 'placeholder',
        classes: ''
    },
    header: 'COLUMN HEADER',
    subheader: 'SUBHEADER',
    content: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore.',
    link: {
        url: 'http://www.harker.org',
        text: 'CTA GOES HERE'
    }
}) %}

{% set defaults = { 
    column_direction: column_direction|default('ltr')
} %}

{% set module = defaults|merge(module) %}

{% set private = { 
    position: table_position(module.column_direction) 
} %}

{% set module = module|merge(private) %}

{% block module %}
    <tr>
        <td>
            <table class="table-full" width="287" border="0" align="{{ module.position }}" cellpadding="0" cellspacing="0">
                {% block column_1 %}
                    {% if module.img %}
                        <tr>
                            <td class="img-container" align="center">
                                <img class="img-full {{ module.img.classes }}" src="{{ module.img.url }}" width="287" alt="{{ module.img.alt }}">
                            </td>
                        </tr>
                    {% endif %}
                {% endblock column_1 %}
            </table>
            <table width="1" border="0" cellpadding="0" cellspacing="0" align="{{ module.position }}">
                <tr>
                    <td height="35" style="font-size: 0;line-height: 0;border-collapse: collapse;">
                        <p style="padding-left: 24px;">&nbsp;</p>
                    </td>
                </tr>
            </table>
            <table class="table-full" width="287" border="0" align="{{ opposite_direction(module.position) }}" cellpadding="0" cellspacing="0">   
                {% block column_2 %}
                    {% block header %}
                        {% if module.header %}
                            <tr>
                                <td class="header">
                                    {{ module.header }}
                                </td>
                            </tr>
                        {% endif %}
                    {% endblock header %}
                    {% block subheader %}
                        {% if module.subheader %}
                            <tr>
                                <td class="subheader">
                                    {{ module.subheader }}
                                </td>
                            </tr>
                        {% endif %}
                    {% endblock subheader %}
                    {% block content %}
                        {% if module.content %}
                            <tr>
                                <td height="15"></td>
                            </tr>
                            <tr>
                                <td class="content">
                                    {{ module.content|raw }}
                                </td>
                            </tr>
                        {% endif %}
                    {% endblock content %}
                    {% block list %}
                        {% if module.list %}
                            <tr>
                                <td height="15"></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    {% include "@tmpl/table-list.html" %}
                                </td>
                            </tr>
                        {% endif %}
                    {% endblock list %}
                    {% block link %}
                        {% if module.link %}
                            <tr>
                                <td height="25"></td>
                            </tr>
                            <tr>
                                <td>
                                    {% include "@tmpl/table-button.html" with module.link %}
                                </td>
                            </tr>
                        {% endif %}
                    {% endblock link %}
                {% endblock column_2 %}
            </table>
        </td>
    </tr>
{% endblock module %}
